<html>
<head>
<meta charset="utf-8">
<style>	
	table tr td {width:100px; border:1px solid;}
	.line {background-color:#9e9e9e45; font-weight:bold; text-align:center;}
	.t1 {margin-bottom:30px;}
	.t1 tr {margin-top:30px;}
	#arr {font-weight:bold;}
		
	.s3 {background-color:#f3ddb591;}
	.s4 {background-color:#89a5f561;}
	.s5 {background-color:#9f7de58f;}
	.lucky {background-color:#ef254840}
	
	.search5 {font-weight:bold; border:6px solid #673AB7; background: #ffff00;}
	.search4 {font-weight:bold; border:6px solid blue; background: #ffff00;}
	.search3 {font-weight:bold; border:6px solid red; background: #ffff00;}
	.search2 {font-weight:bold; border:6px solid #e6572a; background: #ffff00;}
	.search1 {font-weight:bold; border:6px solid #ff9800; background: #ffff00;}
	
	.type2 {display:none; font-size:30px;}
	
	#reset {background-color:#8080803b;}
	
	#s_type {height:40px;}
	.effct {color:white; background-color:blue;}
	
	@keyframes blink-effect { 50% { opacity: 0; } } 
	.blink { animation: blink-effect 0.5s step-end 2; }  

	.btn_srch {background-color:#0000ff54; bottom:5%; width:150px; height:100px; border-radius:2em; position: absolute; top:60%; left:80%; opacity:0.3;}
	.btn_reset {background-color: #80808094; bottom:5%; width: 150px; height: 100px; border-radius: 2em; position: absolute; top:70%; left:80%; opacity:0.5;}	
	.btn_detail {background-color: #4bc4e594; bottom:5%; width: 150px; height: 100px; border-radius: 2em; position: absolute; top:80%; left:80%; opacity:0.5;}	
	
	#btn_s {display: none; z-index: 2; background: white; width: 90%; height: 80%; position: absolute; top: 2%; left: 5%; overflow:hidden;}
	.btn_set {display:inline-block; width:90%; padding:30px; margin:10px; border-radius:0.3em; text-align:inherit; font-size:55px;}
	.btn_set input {display:none;}
	#btn_ch, btn_5, #btn_4, #btn_3, #btn_2, #btn_1 {margin:10px; font-size:25px;}
	#btn_ch tr td {height:80px; font-size:45px; text-align:center;}
	#btn_ch5 {background: #9f7de5;}
	#btn_5 {background: #9f7de5; overflow-y:scroll; height:90%;}
	#btn_4 {background: #89a5f561; display:none; overflow-y:scroll; height:90%;}
	#btn_3 {background: #f3ddb5; display:none; overflow-y:scroll; height:90%;}
	#btn_2 {background: #ffff001f; display:none; overflow-y:scroll; height:90%;}
	#btn_1 {background: white; display:none; overflow-y:scroll; height:90%;}
	.btn_select {background:yellow !important; font-weight:bold !important; font-color:blue !important;}
	#btn_search {display:none; background:white; position:absolute; bottom:3%; width:90%; text-align:center; font-size:50px; z-index:5; left:5%;}
	.btn_confirm {background:#3f51b5; color:white; padding:20px; margin:10px; border-radius:0.3em;}
	.btn_cancel {background:gray; color:white; padding: 20px; margin:10px; margin-bottom:10px; border-radius:0.3em;}
	.hide {display:none !important;}
	#modal {display:none; position:absolute; left:0; top:0; width:100%; height:100%; background:black; opacity:0.5; z-index:1}
	.set_btn {background: #89a5f5; color: white; font-weight:bold; font-size:20px; padding: 10px; margin-right:50px; border-radius:0.7em;}		
	
	/* 상세 */ 
	#pack_detail {display: none; z-index: 2; background: white; width: 90%; height: 80%; position: absolute; top: 2%; left: 5%; overflow:hidden;}
	#pack_detail h3{text-align:center;}
	.detail {width:100%;}
	.detail td {vertical-align:top; padding:10px;}
	.detail p {border:1px solid black; font-size:20px; margin:10px; padding:10px; text-align:left;}
	.detail p span {font-size:15px; margin-right:20px;}
	
	.dt_select {background:gray; color:white;}
	#btn_detail {display:none; background:white; position:absolute; bottom:3%; width:90%; text-align:center; font-size:50px; z-index:5; left:5%;}
		
	.excpt_pack {color:white; background:white; border:0px solid;} //제외팩
}
</style>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
	
	/* 배열 러시2탄 */	
	var arr2_50 = ['50', '2밤선인', '1아차모', '3번치코', '2토게틱', '2영치코', '1깨봉이', '2꿀꺽몬', '2나인테일'];
	var arr2_49 = ['49', '2늪짱이', '1물짱이', '4에브이', '2코뿌리', '3비퀸', '2비퀸', '2코뿌리', '2짜랑고우'];
	var arr2_48 = ['48', '2윤겔라', '4루나아라', '4헤라크로스', '3나무킹', '4에브이', '2영치코', '3블래키', '4에브이'];
	var arr2_47 = ['47', '3대짱이', '1뿔카노', '2나인테일', '1깨봉이', '3망나뇽', '5레시라무', '1토게피', '1토게피'];
	var arr2_46 = ['46', '1물짱이', '5네크로즈마', '2늪짱이', '3더스트나', '5레쿠쟈', '4나무킹', '1아차모', '3헤라크로스'];	
	var arr2_45 = ['45', '4토게키스', '3밤선인', '1깨봉이', '2짜랑고우', '1짜랑꼬', '2윤겔라', '2고우스트', '2밤선인'];
	var arr2_44 = ['44', '1고오스', '2더스트나', '3비퀸', '4솔가레오', '1캐이시', '1꼴깍몬', '1꼴깍몬', '4토게키스'];
	var arr2_43 = ['43', '2토게틱', '2고우스트', '1세꿀버리', '1뿔카노', '1나무돌이', '2짜랑고우', '3나인테일', '4나무킹'];
	var arr2_42 = ['42', '5파이어', '4대짱이', '3나무킹', '2늪짱이', '1고오스', '2더스트나', '3더스트나', '3블래키'];
	var arr2_41 = ['41', '3쁘사이저', '3꿀꺽몬', '1물짱이', '1고오스', '2윤겔라', '1캐이시', '2짜랑고우', '1꼴깍몬'];
	var arr2_40 = ['40', '1아차모', '2나무돌이', '2더스트나', '1캐이시', '2늪짱이', '3후딘', '2비퀸', '3밤선인'];
		   
	var arr2_39 = ['39', '1짜랑꼬', '1식스테일', '1나무지기', '1캐이시', '2밤선인', '3에브이', '3꿀꺽몬', '1선인왕'];
	var arr2_38 = ['38', '1세꿀버리', '2영치코', '2윤겔라', '1식스테일', '2더스트나', '4팬텀', '5종이신도', '2더스트나'];
	var arr2_37 = ['37', '2코뿌리', '3짜랑고우거', '2코뿌리', '3에브이', '1뿔카노', '4피카츄', '2윤겔라', '3꿀꺽몬'];
	var arr2_36 = ['36', '2비퀸', '3후딘', '3더스트나', '2영치코', '1식스테일', '1아차모', '1뿔카노', '2늪짱이'];
	var arr2_35 = ['35', '2나무돌이', '4헤라크로스', '2꿀꺽몬', '1선인왕', '4번치코', '2밤선인', '2나무돌이', '1깨봉이'];
	var arr2_34 = ['34', '2영치코', '2영치코', '1고오스', '4쁘사이저', '1세꿀버리', '4후딘', '1식스테일', '3번치코'];
	var arr2_33 = ['33', '1선인왕', '3에브이', '2짜랑고우', '2윤겔라', '1물짱이', '2나인테일', '1선인왕', '1아차모'];
	var arr2_32 = ['32', '1캐이시', '1깨봉이', '2토게틱', '1짜랑꼬', '1나무지기', '1물짱이', '1아공이', '2액슨도'];
	var arr2_31 = ['31', '4솔가레오', '3쁘사이저', '1아차모', '3토게키스', '4헤라크로스', '3헤라크로스', '2짜랑고우', '1고오스'];	
	
	var arr2_30 = ['30', '3쁘사이저', '2나인테일', '3짜랑고우거', '5큐레무', '2더스트나', '3쁘사이저', '4쁘사이저', '2영치코'];	
	var arr2_29 = ['29', '1깨봉이', '2짜랑고우', '3에브이', '1토게피', '4토게키스', '2늪짱이', '2늪짱이', '4솔가레오'];
	var arr2_28 = ['28', '2더스트나', '1짜랑꼬', '2영치코', '4헤라크로스', '3밤선인', '2토게틱', '1캐이시', '3거대코뿌리'];
	var arr2_27 = ['27', '2짜랑고우', '2늪짱이', '4팬텀', '2비퀸', '3블래키', '5네크로즈마', '4후딘', '2비퀸'];
	var arr2_26 = ['26', '3토게키스', '2코뿌리', '5프리저', '1세꿀버리', '4루나아라', '1짜랑꼬', '4팬텀', '2토게틱'];
	var arr2_25 = ['25', '2나인테일', '2코뿌리', '2밤선인', '3망나뇽', '2윤겔라', '1세꿀버리', '2늪짱이', '2밤선인'];
	var arr2_24 = ['24', '4대짱이', '1캐이시', '4짜랑고우거', '2늪짱이', '2나무돌이', '1나무지기', '1물짱이', '4피카츄'];
	var arr2_23 = ['23', '2고우스트', '2꿀꺽몬', '3나인테일', '1나무지기', '2짜랑고우', '3토게키스', '2더스트나', '1나무지기'];
	var arr2_22 = ['22', '4블래키', '4거대코뿌리', '3거대코뿌리', '1아차모', '3대짱이', '1선인왕', '4나무킹', '1아차모'];
	var arr2_21 = ['21', '1식스테일', '2윤겔라', '4거대코뿌리', '5제크로무', '2고우스트', '1식스테일', '3팬텀', '1식스테일'];
	
	var arr2_20 = ['20', '3꿀꺽몬', '1뿔카노', '1캐이시', '2밤선인', '3헤라크로스', '1토게피', '2영치코', '3대짱이'];
	var arr2_19 = ['19', '1꼴깍몬', '1선인왕', '2늪짱이', '2나인테일', '2토게틱', '4루나아라', '3비퀸', '1캐이시'];
	var arr2_18 = ['18', '1토게피', '1세꿀버리', '5큐레무', '3대짱이', '1꼴깍몬', '2꿀꺽몬', '3망나뇽', '2고우스트'];
	var arr2_17 = ['17', '1나무지기', '3망나뇽', '2꿀꺽몬', '1꼴깍몬', '2코뿌리', '3번치코', '2비퀸', '2고우스트'];
	var arr2_16 = ['16', '3헤라크로스', '2밤선인', '1짜랑꼬', '2꿀꺽몬', '1선인왕', '1뿔카노', '1물짱이', '3비퀸'];
	var arr2_15 = ['15', '1뿔카노', '1깨봉이', '1식스테일', '3밤선인', '5루기아', '2나무돌이', '4번치코', '2꿀꺽몬'];
	var arr2_14 = ['14', '2토게틱', '3블래키', '1식스테일', '4나무킹', '3후딘', '4블래키', '1짜랑꼬', '2나무돌이'];
	var arr2_13 = ['13', '2영치코', '2나무돌이', '1선인왕', '4토게키스', '1토게피', '1나무지기', '4피카츄', '4루나아라'];
	var arr2_12 = ['12', '5볼케니온', '4쁘사이저', '2나무돌이', '2나무돌이', '1깨봉이', '4거대코뿌리', '4번치코', '2짜랑고우'];
	var arr2_11 = ['11', '2윤겔라', '4블래키', '1꼴깍몬', '1고오스', '3토게키스', '2고우스트', '1짜랑꼬', '2코뿌리'];
	
	var arr2_10 = ['10', '1선인왕', '2토게틱', '4피카츄', '1물짱이', '2나인테일', '4후딘', '2토게틱', '1뿔카노'];
	var arr2_9 = ['9', '4거대코뿌리', '5칠색조', '2나무돌이', '3거대코뿌리', '1아차모', '1고오스', '2나인테일', '1세꿀버리'];
	var arr2_8 = ['8', '3망나뇽', '3나인테일', '2코뿌리', '2더스트나', '2꿀꺽몬', '3나인테일', '2밤선인', '4팬텀'];
	var arr2_7 = ['7', '3번치코', '4짜랑고우거', '2비퀸', '3블래키', '3짜랑고우거', '2고우스트', '5볼케니온', '2영치코'];
	var arr2_6 = ['6', '4짜랑고우거', '1토게피', '2고우스트', '2고우스트', '2비퀸', '3짜랑고우거', '1깨봉이', '1세꿀버리'];
	var arr2_5 = ['5', '2나인테일', '2비퀸', '4대짱이', '2더스트나', '4짜랑고우거', '2밤선인', '1고오스', '5썬더'];
	var arr2_4 = ['4', '4쁘사이저', '2꿀꺽몬', '1토게피', '3팬텀', '1꼴깍몬', '2코뿌리', '1나무지기', '4번치코'];
	var arr2_3 = ['3', '2꿀꺽몬', '1꼴깍몬', '1뿔카노', '4후딘', '3나무킹', '2나인테일', '3거대코뿌리', '2윤겔라'];
	var arr2_2 = ['2', '3팬텀', '1고오스', '3팬텀', '3후딘', '2토게틱', '1토게피', '1세꿀버리', '1물짱이'];
	var arr2_1 = ['1', '3더스트나', '1나무지기', '3망나뇽', '2비퀸', '4솔가레오', '4에브이', '4대짱이', '1짜랑꼬'];	
	
	
	/* 배열 러시1탄 */	
	var arr1_50 = ['50', '2액슨도', '2롱스톤', '4폭거북스', '4부스터', '2어니부기', '3피카츄', '1니드런', '4갸라도스'];
	var arr1_49 = ['49', '1니드런', '2니드리나', '3너트령', '2씨레오', '4라이코', '2씨레오', '3보만다', '5아르세우스'];
	var arr1_48 = ['48', '2니드리노', '4라이코', '4거북왕', '2롱스톤', '3액스라이즈', '1대굴레오', '5다크라이', '3쥬피썬더'];
	var arr1_47 = ['47', '2너트령', '1니드런', '2리자드', '1터검니', '2쉘곤', '2피카츄', '3피죤투', '3너트령'];
	var arr1_46 = ['46', '1아공이', '2쉘곤', '1파이리', '1대굴레오', '2피카츄', '1파이리', '1니드런', '4니드퀸'];
	var arr1_45 = ['45', '4강철톤', '3따라큐', '2롱스톤', '1철시드', '5라티오스', '1철시드', '3부스터', '2니드리나'];
	var arr1_44 = ['44', '3너트령', '2이브이', '2쉘곤', '2너트령', '1구구', '2니드리노', '2씨레오', '2어니부기'];
	var arr1_43 = ['43', '3액스라이즈', '3피죤투', '2이브이', '5루나아라', '2피죤', '4피죤투', '3니드킹', '4피카츄'];
	var arr1_42 = ['42', '2씨레오', '1니드런', '1구구', '1니드런', '2니드리노', '2너트령', '2너트령', '1구구'];
	var arr1_41 = ['41', '2피카츄', '1철시드', '2어니부기', '4스이쿤', '1파이리', '2이상해풀', '2쉘곤', '3니드킹'];
	var arr1_40 = ['40', '3이브이', '1이상해씨', '1니드런', '2쉘곤', '3피카츄', '2롱스톤', '2어니부기', '2이상해풀'];
	
	var arr1_39 = ['39', '1대굴레오', '3보만다', '5아르세우스', '3보만다', '3리자몽', '2이상해풀', '4거북왕', '3액스라이즈'];
	var arr1_38 = ['38', '5리자몽X', '5아고용', '2액슨도', '3액스라이즈', '3피죤투', '5라티아스', '1대굴레오', '4리자몽'];
	var arr1_37 = ['37', '1꼬부기', '3씨카이저', '3니드퀸', '2이브이', '2리자드', '4강철톤', '3폭거북스', '1니드런'];
	var arr1_36 = ['36', '3샤미드', '2이상해풀', '2이브이', '3리자몽', '3쥬피썬더', '1니드런', '2이브이', '1파이리'];
	var arr1_35 = ['35', '2롱스톤', '4이상해꽃', '1구구', '2이상해풀', '2어니부기', '1파이리', '2니드리노', '3이브이'];
	var arr1_34 = ['34', '1파이리', '2액슨도', '3거북왕', '2액슨도', '2롱스톤', '3폭거북스', '2니드리나', '3갸라도스'];
	var arr1_33 = ['33', '3쥬피썬더', '2어니부기', '3갸라도스', '2니드리나', '2액슨도', '4라이코', '1구구', '2이브이'];
	var arr1_32 = ['32', '2피죤', '4액스라이즈', '3부스터', '1아공이', '3강철톤', '1니드런', '1아공이', '2액슨도'];
	var arr1_31 = ['31', '1터검니', '2씨레오', '1터검니', '3부스터', '3따라큐', '3피죤투', '2롱스톤', '1니드런'];
	
	var arr1_30 = ['30', '2리자드', '2니드리나', '2니드리노', '2피카츄', '2리자드', '2쉘곤', '3따라큐', '2니드리나'];	
	var arr1_29 = ['29', '2이상해풀', '4씨카이저', '2쉘곤', '1이상해씨', '1이상해씨', '1니드런', '5리자몽X', '2피죤'];
	var arr1_28 = ['28', '4앤테이', '4샤미드', '1아공이', '1구구', '2니드리나', '2피죤', '4액스라이즈', '2니드리노'];
	var arr1_27 = ['27', '2쉘곤', '1꼬부기', '2씨레오', '2롱스톤', '3샤미드', '1꼬부기', '1구구', '2롱스톤'];
	var arr1_26 = ['26', '4보만다', '2피죤', '2니드리나', '1니드런', '1니드런', '3씨카이저', '1이상해씨', '2쉘곤'];
	var arr1_25 = ['25', '2씨레오', '3니드킹', '1꼬부기', '4피죤투', '2액슨도', '2리자드', '4앤테이', '2리자드'];
	var arr1_24 = ['24', '2이상해풀', '1터검니', '2피카츄', '2니드리노', '4보만다', '2이브이', '1철시드', '2너트령'];
	var arr1_23 = ['23', '2이브이', '4앤테이', '2이상해풀', '2리자드', '1아공이', '2액슨도', '2피카츄', '1아공이'];
	var arr1_22 = ['22', '3갸라도스', '3니드퀸', '4앤테이', '2어니부기', '1대굴레오', '2피카츄', '1터검니', '3피카츄'];
	var arr1_21 = ['21', '4니드퀸', '1철시드', '1니드런', '3샤미드', '1터검니', '2너트령', '1꼬부기', '2이상해풀'];
	
	var arr1_20 = ['20', '5악식킹', '2피죤', '3따라큐', '2피카츄', '2롱스톤', '2이브이', '3거북왕', '3강철톤'];
	var arr1_19 = ['19', '1니드런', '3폭거북스', '2피죤', '1터검니', '4니드킹', '3이상해꽃', '2리자드', '4쥬피썬더'];
	var arr1_18 = ['18', '1꼬부기', '4피카츄', '1철시드', '3갸라도스', '3이브이', '2니드리노', '4피카츄', '5뮤츠'];
	var arr1_17 = ['17', '1터검니', '3쥬피썬더', '3이브이', '4리자몽', '1대굴레오', '3니드퀸', '4이상해꽃', '2씨레오'];
	var arr1_16 = ['16', '2니드리나', '1아공이', '4니드퀸', '5개굴닌자', '2니드리노', '2리자드', '2니드리노', '1철시드'];
	var arr1_15 = ['15', '3거북왕', '1대굴레오', '4갸라도스', '3너트령', '3폭거북스', '3따라큐', '2이브이', '4라이코'];
	var arr1_14 = ['14', '2어니부기', '2피카츄', '2리자드', '1꼬부기', '4스이쿤', '2어니부기', '3씨카이저', '2리자드'];
	var arr1_13 = ['13', '4쥬피썬더', '2너트령', '3니드킹', '4부스터', '5뮤츠', '1이상해씨', '2액슨도', '2피카츄'];
	var arr1_12 = ['12', '4스이쿤', '1구구', '2니드리노', '3따라큐', '2너트령', '1구구', '2피죤', '1이상해씨'];
	var arr1_11 = ['11', '2어니부기', '2씨레오', '2액슨도', '2니드리나', '2이브이', '3샤미드', '4샤미드', '1대굴레오'];
	
	var arr1_10 = ['10', '2롱스톤', '1아공이', '3이상해꽃', '3씨카이저', '2씨레오', '4거북왕', '1파이리', '1터검니'];
	var arr1_9 = ['9', '2쉘곤', '2리자드', '5솔가레오', '2피죤', '4쥬피썬더', '1니드런', '2리자드', '4스이쿤'];
	var arr1_8 = ['8', '3피카츄', '5지가르데', '4샤미드', '1파이리', '1니드런', '4니드킹', '2이상해풀', '3이상해꽃'];
	var arr1_7 = ['7', '3강철톤', '2피카츄', '1이상해씨', '4니드킹', '1아공이', '3부스터', '4갸라도스', '2피죤'];
	var arr1_6 = ['6', '1철시드', '1파이리', '2피죤', '2너트령', '1이상해씨', '2니드리나', '3니드퀸', '1꼬부기'];
	var arr1_5 = ['5', '4리자몽', '3이상해꽃', '2어니부기', '4폭거북스', '2피카츄', '3리자몽', '2쉘곤', '3거북왕'];
	var arr1_4 = ['4', '2너트령', '2니드리노', '2너트령', '2이상해풀', '2씨레오', '4부스터', '2이상해풀', '2피카츄'];
	var arr1_3 = ['3', '1이상해씨', '2어니부기', '1대굴레오', '2씨레오', '2이상해풀', '2피죤', '2피죤', '1꼬부기'];
	var arr1_2 = ['2', '2이브이', '2액슨도', '3보만다', '2어니부기', '4씨카이저', '3강철톤', '2너트령', '2액슨도'];
	var arr1_1 = ['1', '2니드리나', '3리자몽', '4이상해꽃', '2쉘곤', '1철시드', '5개굴닌자', '2롱스톤', '2이브이'];	
	
	
	/* 타입별 상성 */
	var 노말_Y = ['격투'];
	var 노말_N = ['고스트'];		
	var 격투_Y = ['비행', '에스퍼', '페어리'];
	var 격투_N = ['벌레', '바위', '악'];
	var 독_Y = ['땅', '에스퍼'];
	var 독_N = ['격투', '독', '벌레', '풀', '페어리'];
	var 땅_Y = ['물', '얼음'];
	var 땅_N = ['독', '바위', '전기', '풀'];
	var 비행_Y = ['바위', '전기', '얼음'];
	var 비행_N = ['격투', '벌레', '풀'];
	var 벌레_Y = ['비행', '바위', '불꽃'];
	var 벌레_N = ['격투', '땅'];
	var 바위_Y = ['격투', '땅', '강철', '물', '풀'];
	var 바위_N = ['노말', '독', '비행', '불꽃'];
	var 고스트_Y = ['고스트', '악'];
	var 고스트_N = ['노말', '격투', '독', '벌레'];
	var 강철_Y = ['격투', '땅', '불꽃'];
	var 강철_N = ['노말', '독', '비행', '벌레', '바위', '강철', '풀', '얼음', '에스퍼', '드래곤', '페어리'];
	var 불꽃_Y = ['땅', '바위', '물'];
	var 불꽃_N = ['벌레', '강철', '불꽃', '풀', '얼음', '페어리'];
	var 물_Y = ['전기', '풀'];
	var 물_N = ['강철', '불꽃', '물', '얼음'];		
	var 전기_Y = ['땅'];
	var 전기_N = ['비행', '강철', '전기'];
	var 풀_Y = ['독', '비행', '벌레', '불꽃', '얼음'];
	var 풀_N = ['땅', '물', '전기', '풀'];
	var 얼음_Y = ['격투', '바위', '강철', '불꽃'];
	var 얼음_N = ['얼음'];
	var 에스퍼_Y = ['벌레', '고스트', '악'];
	var 에스퍼_N = ['격투', '에스퍼'];		
	var 드래곤_Y = ['얼음', '드래곤', '페어리'];
	var 드래곤_N = ['불꽃', '물', '전기', '풀'];		
	var 악_Y = ['격투', '벌레', '페어리'];
	var 악_N = ['고스트', '에스퍼', '악'];		
	var 페어리_Y = ['독', '강철'];
	var 페어리_N = ['격투', '벌레', '드래곤', '악'];
	
	/* 포켓몬 타입 */
	var 레시라무 = ['드래곤', '불꽃'];
	var 네크로즈마 = ['에스퍼'];
	var 레쿠쟈 = ['드래곤', '비행'];
	var 파이어 = ['불꽃', '비행'];
	var 종이신도 = ['강철', '풀'];
	var 철화구야 = ['강철', '비행'];
	var 큐레무 = ['드래곤', '얼음'];
	var 프리저 = ['얼음', '비행'];	
	var 제크로무 = ['드래곤', '전기'];	
	var 루기아 = ['에스퍼', '비행'];
	var 볼케니온 = ['불꽃', '물'];	
	var 칠색조 = ['불꽃', '비행'];	
	var 썬더 = ['전기', '비행'];		
		
	var s_arr = []; //검색 배열
	var p_arr = []; //팩 선택 배열
	var e_arr = []; //팩 제외 배열
	

	$(document).ready(function(){
	
		fn_init();
		
		
		//검색 클릭
		$(document).on('click','.btn_set',function(){
			if($(this).hasClass("btn_select")){
				$(this).removeClass("btn_select");
			}else{
				$(this).addClass("btn_select");
			}			
		});
		
		
		//탄
		$(document).on("change", "[name=part]", function(){			
			fn_init();
		});
		
		
		//검색 - 슬라이드 이벤트
		var startX;
		var endX;
		
		$("#btn_s").on('touchstart', function(e){
			startX = e.originalEvent.touches[0].pageX;			
		});
		
		$("#btn_s").on('touchend', function(e){
			endX = e.originalEvent.changedTouches[0].pageX;
			var btnch = $("[name=btnch]").val();
			
			if(endX > startX && endX - startX > 200){ //→
				btnch = parseInt(btnch) + 1;				
				if(btnch == "6") btnch = "1";
				fn_btnch(btnch);
			}else if(startX > endX && startX - endX > 200){ //←
				btnch = parseInt(btnch) - 1;
				if(btnch == "0") btnch = "5";
				fn_btnch(btnch);
			}						
		});
		
		
		//상세 - 슬라이드 이벤트
		var dt_startX;
		var dt_endX;
		
		$("#pack_detail").on('touchstart', function(e){
			dt_startX = e.originalEvent.touches[0].pageX;			
		});
		
		$("#pack_detail").on('touchend', function(e){
			dt_endX = e.originalEvent.changedTouches[0].pageX;		

			var pack = $("#pack_detail h3").text();
			
			if(dt_endX > dt_startX && dt_endX - dt_startX > 200){ //→				
				pack = parseInt(pack) - 1;
				if(pack == 0) pack = "8";				
			}else if(dt_startX > dt_endX && dt_startX - dt_endX > 200){ //←		
				pack = parseInt(pack) + 1;
				if(pack == 9) pack = "1";				
			}else{
				return;
			}
			
			$(".detail, #pack_detail h3").remove();
			p_arr = [];
			var p = "p" + pack;
			p_arr.push(p);
			
		});
		
		
		//상세 클릭
		$(document).on('click', '.detail p', function(){			
			if($(this).hasClass("btn_select")){
				$(this).removeClass("btn_select");
			}else{
				$(this).addClass("btn_select");
			}
			
			var detailId = $(this).attr('id').replaceAll(' ','');
			for(var i=0; i<$(".btn_set").length;i++){ //검색			
				if(detailId == $(".btn_set").eq(i).attr("id")){
					if($(".btn_set").eq(i).hasClass("btn_select")){
						$(".btn_set").eq(i).removeClass("btn_select");
					}else{
						$(".btn_set").eq(i).addClass("btn_select");
					}
				}
			}			
		});
	});
	
	
	//최초 설정
	function fn_init(){
	
		//1. 전체 팩 셋팅
		var html = "";
		var part = $("[name=part]").val();
		
		html += "<tr>";
		html += "<td class='line' style='height:50px'>순서</td>";
		html += "<td class='line' onclick=\"fn_pack('p1')\">1</td>";
		html += "<td class='line' onclick=\"fn_pack('p2')\">2</td>";
		html += "<td class='line' onclick=\"fn_pack('p3')\">3</td>";
		html += "<td class='line' onclick=\"fn_pack('p4')\">4</td>";
		html += "<td class='line' onclick=\"fn_pack('p5')\">5</td>";
		html += "<td class='line' onclick=\"fn_pack('p6')\">6</td>";
		html += "<td class='line' onclick=\"fn_pack('p7')\">7</td>";
		html += "<td class='line' onclick=\"fn_pack('p8')\">8</td>";
		html += "</tr>";
		for(var a=50;a>0;a--){			
			var arr = eval("arr"+part+"_"+a);			
			html += "<tr>";			
			for(var i=0;i<arr.length;i++){
				if(i == 0){
					html += "<td class='line'>"+arr[i]+"</td>";
				}else{
					//행운
					if(part == "2" && (arr[i] == "5볼케니온" || arr[i] == "5큐레무" || arr[i] == "5네크로즈마" || arr[i] == "4루나아라" || arr[i] == "4솔가레오" || arr[i] == "4피카츄" || arr[i] == "3망나뇽")){ 
						html += "<td class='p"+i+" s"+arr[i].substr(0,1)+" lucky'>"+arr[i].substr(0,1)+" "+arr[i].substr(1)+"</td>";
					}else if(part == "1" && (arr[i] == "4라이코" || arr[i] == "5아르세우스" || arr[i] == "3따라큐" || arr[i] == "4스이쿤" || arr[i] == "5리자몽X" || arr[i] == "4앤테이" || arr[i] == "5개굴닌자")){ 
						html += "<td class='p"+i+" s"+arr[i].substr(0,1)+" lucky'>"+arr[i].substr(0,1)+" "+arr[i].substr(1)+"</td>";
					}else{
						html += "<td class='p"+i+" s"+arr[i].substr(0,1)+"'>"+arr[i].substr(0,1)+" "+arr[i].substr(1)+"</td>";
					}
					
				}
			}
			html += "</tr>";
		}			
		$("#arr").html(html);
		
		//2. 검색 셋팅
		for(var h=5; h>0; h--){
			var arr = [];
			for(var i=0; i<$(".type1 .s"+h+"").length; i++){
				var text = $(".type1 .s"+h+"").eq(i).text().substr(2).replaceAll(' ','');
				if(!arr.includes(text)){
					arr.push(text);
				}
			}
			
			arr.sort();
			var html = "";			
			arr.forEach(function(i, idx){				
				html += "<tr>";				
				html += "<td class='btn_set' id='"+h+i+"'> "+i+"</td>";
				html += "</tr>";
			});
			html = "<table style='width:100%; padding:2%;'>"+html+"</table>";
			$("#btn_"+h+"").html(html);	
		}
	}	
		
	
	//pack 제거
	function fn_pack(pack){
		$("."+pack).addClass('excpt_pack');
		e_arr.push(pack);
	}
	
	
	//검색 취소
	function fn_cancel(){
		if($(".btn_select").length == 0) fn_reset();
		$(".btn_select").removeClass("btn_select");
	}
	
	
	//배열표, 상성 선택
	function fn_type(type){				
		$("[name=type]").eq(type-1).prop('checked', true);
		if(type == '1'){
			$(".type1").show();
			$(".type2").hide();
		}else{
			$(".type1").hide();
			$(".type2").show();
		}		
	}
		
		
	//검색
	function fn_search(){
		$("#modal").show();
		$("#btn_s").show();
		$("#btn_search").show();					
	}
	
	
	//초기화
	function fn_reset(){				
		fn_init(); //셋팅 초기화
		
		s_arr = []; //검색 배열
		p_arr = []; //팩 선택 배열	 
		e_arr = []; //팩 제외 배열

		$(".btn_set").removeClass("btn_select");
		$(".btn_srch").show();
		$("#modal").hide();
		$("#btn_s").hide();
		$("#btn_search").hide();
		
		$("#search").val('');
		$("[class^=p]").show();
		$("[class^=p]").removeClass('search5 search4 search3 search2 search1 blink excpt_pack');
				
		//상성 초기화
		$("[name=sel_p]").val('').trigger('change');
		$("[name=sel_type]").val('').trigger('change');				
		
		$(".btn_srch").show();
	}
	
	
	//팩 제외하고 보여주기
	function fn_excpt(){ 
		var arr = ['p1', 'p2', 'p3', 'p4', 'p5', 'p6', 'p7', 'p8'];
		
		arr.forEach(function(i){
		
			if(p_arr.includes(i)){
				$("."+i).removeClass("excpt_pack");
			}else{			
				$("."+i).addClass("excpt_pack");
			}
			
		})
		
		if(e_arr != null && e_arr != ""){
		
			e_arr.forEach(function(i){
				$("."+i).addClass("excpt_pack");
			});
		}
	}
	
	
	 //5성, 4성, 3성 검색
	 function fn_btnch(type){
		$("#btn_5, #btn_4, #btn_3, #btn_2, #btn_1").hide();
		$("#btn_ch5, #btn_ch4, #btn_ch3, #btn_ch2, #btn_ch1").css("background", "white");
		$("#btn_"+type).show();
		$("#btn_ch"+type).css("background-color", $("#btn_"+type).css("background-color"));
		$("[name=btnch]").val(type);
	 }
	
	
	//검색 저장
	function fn_setSave(num){
		if($(".btn_select").length < 1){
			alert('검색 조건이 없습니다.');
			return;
		}
		
		alert('저장 되었습니다.');
		
		//검색 탄
		var part = $("[name=part]").val();
		localStorage.setItem("part"+num, part);
		
		//검색 포켓몬
		var search = [];
		for(var i=0; i<$(".btn_select").length; i++){
			search.push($(".btn_select").eq(i).prop('id'));
		}		
		localStorage.setItem("search"+num, search);			
		
		//제외 팩
		localStorage.setItem("e_arr", e_arr);
	}
	
	
	//검색 로드
	function fn_setLoad(num){
					
		fn_reset();
	
		//1. 검색 배열
		var localPart = localStorage.getItem("part"+num); 
		$("[name=part]").val(localPart);		
		
		fn_init();
		
		//2. 검색 값
		var localSearch = localStorage.getItem("search"+num); 
			
		if(localSearch != null){
			var arr = localSearch.split(",");
			for(var i=0; i<arr.length; i++){
				$("#"+arr[i]+"").addClass("btn_select");
			}
			
			fn_confirm(); //3. 검색 시작
		}else{
			alert("저장"+num+" 데이터가 없습니다.");
		}
		
		//3. 제외 팩
		localEarr = localStorage.getItem("e_arr");
		if(localEarr != null && localEarr != ""){
			var arr = localEarr.split(",");			
			for(var i=0; i<arr.length; i++){				
				fn_pack(arr[i]);
			}
		}
		
	}
	
	
	//검색 - 확인
	function fn_confirm(){				
		if($("#btn_s .btn_select").length == 0){
			fn_reset();
			return;
		}
		
		$("#modal").hide();
		
		$(".type1 [class^=p]").removeClass('search5 search4 search3 search2 search1 blink excpt_pack');		
		
		s_arr = [];
		p_arr = [];
		var sch_arr = [];
		
		var len = $("#btn_s .btn_select").length;
		for(var i=0; i<len; i++){
			var dt = $("#btn_s .btn_select").eq(i).attr('id');
			s_arr.push(dt);
		}							
				
		for(var i=0;i<s_arr.length;i++){ //검색배열 조회
			for(var j=0; j<$(".type1 [class^=p]").length; j++){ //전체 조회
				if(s_arr[i].replaceAll(' ','') == $("[class^=p]").eq(j).text().replaceAll(' ','')){
					var txt = $(".type1 [class^=p]").eq(j).text().replaceAll(' ','');
					var cls = $(".type1 [class^=p]").eq(j).attr('class').substr(4,1);
					var search = "search"+cls;
					$(".type1 [class^=p]").eq(j).addClass(search);
					$(".type1 [class^=p]").eq(j).addClass("blink");
					if(!sch_arr.includes(txt)){
						sch_arr.push(txt);
					}
					
					var pck = $(".type1 [class^=p]").eq(j).attr('class').substr(0,2);
					if(!p_arr.includes(pck)){
						p_arr.push(pck);
					}
				}
			}
		}		
		
		fn_excpt();
				
		$("#btn_s").hide();
		$("#btn_search").hide();		
	}
	
		
	//상세 닫기
	function fn_dtClose(){
		var pack = "p" + $("#pack_detail h3").text();
		$("#pack_detail").hide();
		$("#pack_detail h3").remove();
		$(".detail").remove();
		$("#btn_detail").hide();
		$("#modal").hide();
		
		fn_confirm();
		//상세 화면에서 팩 보이기
		//p_arr = [];
		//p_arr.push(pack);
		//fn_excpt();
	}
	
	
	//상성 - 5성 선택
	function fn_sel_p(){
		var sel_p = document.aform.sel_p.value;
	
		//효과
		var 효과_Y = [];
		var 효과_N = [];
		var 효과 = [];	
		
		if(sel_p == ''){
			$("[name=sel_p] option").eq(0).prop('selected', true);			
			$("#effect_Y,#effect_N,#p_type,#p_attack span").text('');
			return;
		}
		
		//효과 있음
		eval(sel_p).forEach(function(i){		
			var a = i + "_Y";
			eval(a).forEach(function(h){				
				if(!효과_Y.includes(h)){
					효과_Y.push(h);
				}
			})
		})		
		
		//효과 없음
		eval(sel_p).forEach(function(i){		
			var a = i + "_N";
			eval(a).forEach(function(h){
				if(!효과_N.includes(h)){
					효과_N.push(h);
				}
			})
		})		
		
		//효과
		효과_Y.forEach(function(i){
			if(!효과_N.includes(i)){
				효과.push(i);
			}
		});
		
		//타입 출력
		var type = "";
		var type_cnt = 0;
		eval(sel_p).forEach(function(i){
			if(type_cnt > 0) type += ", ";
			type += i;	
			type_cnt += 1;
		});
				
		document.getElementById("p_type").innerHTML = type;				
		
		//효과 출력
		var effect = "";
		var effect_cnt = 0;
		효과.forEach(function(i){
			if(effect_cnt > 0) effect += ", ";
			effect += i;	
			effect_cnt += 1;
		});
						
		$("#p_attack span").text(effect);
	}
	
	
	//상성 - 타입	
	var type_arr = [];

	
	function fn_sel_type(){	
		var effect_Y = [];
		var effect_N = [];		
		var arr = $("[name=sel_type]").val();
		
		if(arr == ""){			
			$("#s_type").val('');
			$("#type_effect_Y span").text('');
			$("#type_effect_N span").text('');
			return;
		}
		
		$("#s_type").val(arr);				
		
		//효과 있음
		for(var h=0;h<arr.length;h++){			
			eval(arr[h]+"_Y").forEach(function(i, idx){
				if(!effect_Y.includes(i)){
					effect_Y.push(i);
				}
			})
		}		
		
		//효과 없음
		for(var h=0;h<arr.length;h++){
			eval(arr[h]+"_N").forEach(function(i, idx){
				if(!effect_N.includes(i)){
					effect_N.push(i);
				}
			})
		}
		
		//효과 있음 - 효과 없음
		for(var i=0; i<effect_Y.length; i++){
			for(var j=0; j<effect_N.length; j++){
				if(effect_Y[i] == effect_N[j]){
					effect_Y.splice(i, 1);
					i--;
				}
			}
		}		

		//효과 있음 출력
		var effect_Y_html = "";
		effect_Y.forEach(function(i, idx){
			if(idx > 0) effect_Y_html += ", ";
			effect_Y_html += i;
		});		
		$("#type_effect_Y span").text(effect_Y_html);
		
		//효과 없음 출력
		var effect_N_html = "";
		effect_N.forEach(function(i, idx){
			if(idx > 0) effect_N_html += ", ";
			effect_N_html += i;
		});
		$("#type_effect_N span").text(effect_N_html);	
	}
</script>
</head>

<body>
<form name="aform">
	<!-- 검색 -->
	<table class="t" style='width:100%;'>
		<tr>
			<td>
				<input type="radio" style="margin:30px" name="type" id="type1" onclick="fn_type('1');" checked><label for='type1'>배열표</label>
				<input type="radio" style="margin:30px" name="type" id="type2" onclick="fn_type('2');"><label for='type2'>상성</label>				
			</td>
			<td>
				<select name="part" style="width: 100%; height: 70px; text-align: center;">
					<option value="2" selected>러시2</option>
					<option value="1">러시1</option>					
				</select>
			</td>
		</tr>
		<tr class="type1" style="text-align:center;">
			<td style="width:50%; height:80px;" onclick="fn_search()">검색</td>				
			<td id='reset' onclick="fn_reset()">초기화</td>	
		</tr>		
		<tr class="type1" style="text-align:center;">
			<td style="height:80px;" onclick="fn_setSave('1')">저장</td>
			<td style="height:80px;" onclick="fn_setLoad('1');">로드</td>
		</tr>
	</table>
	
	<!-- 배열표 -->
	<table class='type1' id='arr' readonly>		
	</table>
	
	<div class='type2'>
		<div style="margin:30px;">
			<select name="sel_p" onchange="fn_sel_p();" style="height:50px;">
				<option value=''>5성 선택</option>
				<option value="레시라무">레시라무</option>
				<option value="네크로즈마">네크로즈마</option>
				<option value="레쿠쟈">레쿠쟈</option>
				<option value="파이어">파이어</option>
				<option value="종이신도">종이신도</option>
				<option value="철화구야">철화구야</option>
				<option value="큐레무">큐레무</option>
				<option value="프리저">프리저</option>
				<option value="제크로무">제크로무</option>
				<option value="루기아">루기아</option>
				<option value="볼케니온">볼케니온</option>
				<option value="칠색조">칠색조</option>
				<option value="썬더">썬더</option>
			</select>
		</div>
	
		<div style="margin:30px; color:red;">		
			<div>[타입]</div>
			<div id="p_type" style="padding-left:10px;"></div>
		</div>
		
		<div style="margin:30px;">
			<div><span class="effct">[공격]<span></div>
			<div id="p_attack" style="padding-left:10px;"><span class="effct"></span></div>
		</div>
		
		<div style="display:flex">
			<div style="display:flex; margin:30px;">
				<div style="margin-right:30px">
					<select multiple name="sel_type" onchange="fn_sel_type();" style="width:200px; height:50px;">
						<option value="강철">강철</option>
						<option value="격투">격투</option>
						<option value="고스트">고스트</option>
						<option value="노말">노말</option>					
						<option value="독">독</option>
						<option value="드래곤">드래곤</option>
						<option value="땅">땅</option>
						<option value="물">물</option>
						<option value="바위">바위</option>					
						<option value="벌레">벌레</option>
						<option value="불꽃">불꽃</option>
						<option value="비행">비행</option>
						<option value="악">악</option>
						<option value="얼음">얼음</option>
						<option value="에스퍼">에스퍼</option>
						<option value="전기">전기</option>
						<option value="페어리">페어리</option>
						<option value="풀">풀</option>
					</select>
				</div>
				<div style="margin-right:30px"><input type="text" id="s_type" readonly></div>					
			</div>
		</div>
		
		<div>	
			<div style="margin:30px; color:blue;">		
				<div><span class="effct">[효과 있음]<span></div>
				<div id="type_effect_Y" style="padding-left:10px;"><span class="effct"></span></div>
			</div>
			
			<div style="margin:30px; color:black;">		
				<div>[효과 없음]</div>
				<div id="type_effect_N" style="padding-left:10px;"><span></span></div>
			</div>
		</div>	
	</div>
	
	<div class="btn_srch type1" onclick="fn_search()"></div>
	<div class="btn_reset type1" onclick="fn_reset()"></div>	
	
	<div id="btn_s">
		<div id="btn_ch">
			<table style="width:100%; padding:2%;">
				<tbody>
					<tr>
						<td id="btn_ch5" onclick="fn_btnch('5')">5성</td>
						<td id="btn_ch4" onclick="fn_btnch('4')">4성</td>
						<td id="btn_ch3" onclick="fn_btnch('3')">3성</td>
						<td id="btn_ch2" onclick="fn_btnch('2')">2성</td>
						<td id="btn_ch1" onclick="fn_btnch('1')">1성</td>
						<input type="hidden" name="btnch" value="5"/>
					</tr>
				</tbody>
			</table>
		</div>
		<div id="btn_5"></div>
		<div id="btn_4"></div>
		<div id="btn_3"></div>
		<div id="btn_2"></div>
		<div id="btn_1"></div>
	</div>
	
	<div id="btn_search">			
		<div class="btn_confirm" id="btn_confirm" onclick="fn_confirm()">확인</div>
		<div class="btn_cancel" id="btn_cancel" onclick="fn_cancel()">취소</div>
	</div>

	<!-- 상세 -->
	<div id="pack_detail"></div>
	
	<div id="btn_detail">		
		<div class="btn_cancel" onclick="fn_dtClose();">닫기</div>		
	</div>
	<!-- 상세 -->
	
	<div id="modal"></div>
</form>
</body>
</html>
